<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="1067px" preserveAspectRatio="none" style="width:330px;height:1067px;background:#FFFFFF;" version="1.1" viewBox="0 0 330 1067" width="330px" zoomAndPan="magnify"><defs/><g><ellipse cx="146.5383" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="98.2168" x="97.4299" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78.2168" x="107.4299" y="71.1387">AT+CMGF=1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="140.3281" x="76.3743" y="103.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120.3281" x="86.3743" y="125.1074">AT+CNMI=2,1,0,0,0</text><rect fill="none" height="611.5117" style="stroke:#000000;stroke-width:1.5;" width="308.9194" x="11" y="147.9375"/><path d="M127.8662,147.9375 L127.8662,157.2344 L117.8662,167.2344 L11,167.2344" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.8662" x="14" y="161.9326">Recepci&#243;n SMS</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="82.8594" x="105.1086" y="228.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62.8594" x="115.1086" y="249.373">Leer UART</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="130.1797" x="81.4485" y="330.6055"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="110.1797" x="91.4485" y="351.7441">AT+CMGR=&lt;idx&gt;</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="182.3047" x="55.386" y="384.5742"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="162.3047" x="65.386" y="405.7129">Recibir +CMGR: datos SMS</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="170.8555" x="61.1106" y="438.543"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="150.8555" x="71.1106" y="459.6816">Parsear &lt;from&gt;, &lt;msg&gt;</text><polygon fill="#F1F1F1" points="97.2344,507.5117,195.8423,507.5117,207.8423,519.5117,195.8423,531.5117,97.2344,531.5117,85.2344,519.5117,97.2344,507.5117" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98.6079" x="97.2344" y="523.3198">remitente_valido?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="8.7871" x="76.4473" y="516.9175">s&#237;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="207.8423" y="516.9175">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="104.4688" x="23" y="541.5117"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84.4688" x="33" y="562.6504">Clasificar msg</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="108.1543" x="163.7651" y="541.5117"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88.1543" x="173.7651" y="562.6504">Descartar SMS</text><polygon fill="#F1F1F1" points="146.5383,581.4805,158.5383,593.4805,146.5383,605.4805,134.5383,593.4805,146.5383,581.4805" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="131.082" x="80.9973" y="625.4805"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="111.082" x="90.9973" y="646.6191">AT+CMGD=&lt;idx&gt;</text><polygon fill="#F1F1F1" points="101.6226,282.2031,191.4541,282.2031,203.4541,294.2031,191.4541,306.2031,101.6226,306.2031,89.6226,294.2031,101.6226,282.2031" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="8.7871" x="150.5383" y="316.4136">s&#237;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89.8315" x="101.6226" y="298.0112">+CMTI recibido?</text><polygon fill="#F1F1F1" points="146.5383,679.4492,158.5383,691.4492,146.5383,703.4492,134.5383,691.4492,146.5383,679.4492" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="146.5383,184.2344,158.5383,196.2344,146.5383,208.2344,134.5383,196.2344,146.5383,184.2344" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="134.5383,723.4492,158.5383,723.4492,170.5383,735.4492,158.5383,747.4492,134.5383,747.4492,122.5383,735.4492,134.5383,723.4492" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22.5747" x="135.251" y="739.2573">true</text><rect fill="none" height="244.1719" style="stroke:#000000;stroke-width:1.5;" width="210.5996" x="41.2385" y="770.251"/><path d="M241.8381,770.251 L241.8381,779.5479 L231.8381,789.5479 L41.2385,789.5479" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.5996" x="44.2385" y="784.2461">Procesamiento y respuesta</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="132.1895" x="80.4436" y="806.5479"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112.1895" x="90.4436" y="827.6865">Generar respuesta</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="150.6348" x="71.2209" y="860.5166"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="130.6348" x="81.2209" y="881.6553">AT+CMGS="&lt;from&gt;"</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="189.582" x="51.7473" y="914.4854"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="169.582" x="61.7473" y="935.624">Enviar &lt;respuesta&gt; + 0x1A</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="82.666" x="105.2053" y="968.4541"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62.666" x="115.2053" y="989.5928">Recibir OK</text><ellipse cx="146.5383" cy="1045.4229" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="146.5383" cy="1045.4229" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="30" y2="50"/><polygon fill="#181818" points="142.5383,40,146.5383,50,150.5383,40,146.5383,44" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="83.9688" y2="103.9688"/><polygon fill="#181818" points="142.5383,93.9688,146.5383,103.9688,150.5383,93.9688,146.5383,97.9688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="364.5742" y2="384.5742"/><polygon fill="#181818" points="142.5383,374.5742,146.5383,384.5742,150.5383,374.5742,146.5383,378.5742" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="418.543" y2="438.543"/><polygon fill="#181818" points="142.5383,428.543,146.5383,438.543,150.5383,428.543,146.5383,432.543" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.2344" x2="75.2344" y1="519.5117" y2="519.5117"/><line style="stroke:#181818;stroke-width:1;" x1="75.2344" x2="75.2344" y1="519.5117" y2="541.5117"/><polygon fill="#181818" points="71.2344,531.5117,75.2344,541.5117,79.2344,531.5117,75.2344,535.5117" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="207.8423" x2="217.8423" y1="519.5117" y2="519.5117"/><line style="stroke:#181818;stroke-width:1;" x1="217.8423" x2="217.8423" y1="519.5117" y2="541.5117"/><polygon fill="#181818" points="213.8423,531.5117,217.8423,541.5117,221.8423,531.5117,217.8423,535.5117" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="75.2344" x2="75.2344" y1="575.4805" y2="593.4805"/><line style="stroke:#181818;stroke-width:1;" x1="75.2344" x2="134.5383" y1="593.4805" y2="593.4805"/><polygon fill="#181818" points="124.5383,589.4805,134.5383,593.4805,124.5383,597.4805,128.5383,593.4805" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="217.8423" x2="217.8423" y1="575.4805" y2="593.4805"/><line style="stroke:#181818;stroke-width:1;" x1="217.8423" x2="158.5383" y1="593.4805" y2="593.4805"/><polygon fill="#181818" points="168.5383,589.4805,158.5383,593.4805,168.5383,597.4805,164.5383,593.4805" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="472.5117" y2="507.5117"/><polygon fill="#181818" points="142.5383,497.5117,146.5383,507.5117,150.5383,497.5117,146.5383,501.5117" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="605.4805" y2="625.4805"/><polygon fill="#181818" points="142.5383,615.4805,146.5383,625.4805,150.5383,615.4805,146.5383,619.4805" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="306.2031" y2="330.6055"/><polygon fill="#181818" points="142.5383,320.6055,146.5383,330.6055,150.5383,320.6055,146.5383,324.6055" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="203.4541" x2="285.9194" y1="294.2031" y2="294.2031"/><polygon fill="#181818" points="281.9194,477.5273,285.9194,487.5273,289.9194,477.5273,285.9194,481.5273" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="285.9194" x2="285.9194" y1="294.2031" y2="691.4492"/><line style="stroke:#181818;stroke-width:1;" x1="285.9194" x2="158.5383" y1="691.4492" y2="691.4492"/><polygon fill="#181818" points="168.5383,687.4492,158.5383,691.4492,168.5383,695.4492,164.5383,691.4492" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="659.4492" y2="679.4492"/><polygon fill="#181818" points="142.5383,669.4492,146.5383,679.4492,150.5383,669.4492,146.5383,673.4492" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="262.2031" y2="282.2031"/><polygon fill="#181818" points="142.5383,272.2031,146.5383,282.2031,150.5383,272.2031,146.5383,276.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="208.2344" y2="228.2344"/><polygon fill="#181818" points="142.5383,218.2344,146.5383,228.2344,150.5383,218.2344,146.5383,222.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="170.5383" x2="303.9194" y1="735.4492" y2="735.4492"/><polygon fill="#181818" points="299.9194,463.043,303.9194,453.043,307.9194,463.043,303.9194,459.043" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="303.9194" x2="303.9194" y1="196.2344" y2="735.4492"/><line style="stroke:#181818;stroke-width:1;" x1="303.9194" x2="158.5383" y1="196.2344" y2="196.2344"/><polygon fill="#181818" points="168.5383,192.2344,158.5383,196.2344,168.5383,200.2344,164.5383,196.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="703.4492" y2="723.4492"/><polygon fill="#181818" points="142.5383,713.4492,146.5383,723.4492,150.5383,713.4492,146.5383,717.4492" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="137.9375" y2="184.2344"/><polygon fill="#181818" points="142.5383,174.2344,146.5383,184.2344,150.5383,174.2344,146.5383,178.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="840.5166" y2="860.5166"/><polygon fill="#181818" points="142.5383,850.5166,146.5383,860.5166,150.5383,850.5166,146.5383,854.5166" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="894.4854" y2="914.4854"/><polygon fill="#181818" points="142.5383,904.4854,146.5383,914.4854,150.5383,904.4854,146.5383,908.4854" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="948.4541" y2="968.4541"/><polygon fill="#181818" points="142.5383,958.4541,146.5383,968.4541,150.5383,958.4541,146.5383,962.4541" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="747.4492" y2="806.5479"/><polygon fill="#181818" points="142.5383,796.5479,146.5383,806.5479,150.5383,796.5479,146.5383,800.5479" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="146.5383" x2="146.5383" y1="1002.4229" y2="1034.4229"/><polygon fill="#181818" points="142.5383,1024.4229,146.5383,1034.4229,150.5383,1024.4229,146.5383,1028.4229" style="stroke:#181818;stroke-width:1;"/><!--SRC=[TL71Ji904BttAoOzGU00U6ifXW0IeYXfyMpMTYgJjBlDxe8OyPCy-GdycDFMDd0mUzcTUVFUcxUdHRIv6PqSOuMsZZVTzcRhvLqmzElxuteLZFh3_g0ylkCKZ29BIe8ROen5JESV2T4wSk7J0T1OeB1y0V0U43KyJyEjNxqfXGvpRrSCYkcL4dNR1Rj32Hrp_kvM69wg3OJ1c9BZn6-gOJMYeUfva0YhJAdQ0ZP26nGQngbM-QGFuzoyjUEbjCQSB4gBBmUH_IFEFBDC64efPYfcQ0WmCmWTgIw0SpGCuj0kRQ1CABtUP7wvITElOuBt7MNCQ_KUkyxNLRWRhM8q8YUshE239qonH_waEcTlYH8rYxVrKk1FCWhSEWQtAYxaWSfaMkW4UZ0u3gTLjqdswTulBHYhYby0]--></g></svg>