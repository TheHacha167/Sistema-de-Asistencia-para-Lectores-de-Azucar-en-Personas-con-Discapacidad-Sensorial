<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="521px" preserveAspectRatio="none" style="width:298px;height:521px;background:#1B1B1B;" version="1.1" viewBox="0 0 298 521" width="298px" zoomAndPan="magnify"><title>7.1.2 Secuencia: Men&#250; SMS</title><defs/><g><rect fill="#1B1B1B" height="521" style="stroke:none;stroke-width:1;" width="298" x="0" y="0"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="217.3896" x="42.2073" y="27.9951">7.1.2 Secuencia: Men&#250; SMS</text><rect fill="none" height="320.3281" style="stroke:#FFFFFF;stroke-width:1.5;" width="282.8042" x="10" y="148.8594"/><rect fill="none" height="75.3984" style="stroke:#FFFFFF;stroke-width:1.5;" width="262.8042" x="20" y="357.6563"/><g><title>ESP32</title><rect fill="#000000" fill-opacity="0.00000" height="412.5938" width="8" x="54.9946" y="73.5938"/><line style="stroke:#E7E7E7;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="58" x2="58" y1="73.5938" y2="486.1875"/></g><g><title>SIM800L</title><rect fill="#000000" fill-opacity="0.00000" height="412.5938" width="8" x="231.9961" y="73.5938"/><line style="stroke:#E7E7E7;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="235.188" x2="235.188" y1="73.5938" y2="486.1875"/></g><g class="participant participant-head" data-participant="ESP"><rect fill="#222222" height="30.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="57.9893" x="30" y="42.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.9893" x="37" y="62.292">ESP32</text></g><g class="participant participant-tail" data-participant="ESP"><rect fill="#222222" height="30.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="57.9893" x="30" y="485.1875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43.9893" x="37" y="505.1826">ESP32</text></g><g class="participant participant-head" data-participant="MDM"><rect fill="#222222" height="30.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="73.6162" x="199.188" y="42.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.6162" x="206.188" y="62.292">SIM800L</text></g><g class="participant participant-tail" data-participant="MDM"><rect fill="#222222" height="30.2969" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="73.6162" x="199.188" y="485.1875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.6162" x="206.188" y="505.1826">SIM800L</text></g><g class="message" data-participant-1="ESP" data-participant-2="MDM"><polygon fill="#E7E7E7" points="223.9961,100.7266,233.9961,104.7266,223.9961,108.7266,227.9961,104.7266" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="58.9946" x2="229.9961" y1="104.7266" y2="104.7266"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.7349" x="65.9946" y="99.6606">AT+CMGF=1</text></g><g class="message" data-participant-1="ESP" data-participant-2="MDM"><polygon fill="#E7E7E7" points="223.9961,129.8594,233.9961,133.8594,223.9961,137.8594,227.9961,133.8594" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="58.9946" x2="229.9961" y1="133.8594" y2="133.8594"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.3555" x="65.9946" y="128.7935">AT+CNMI=2,1,0,0,0</text></g><path d="M10,148.8594 L86.624,148.8594 L86.624,155.9922 L76.624,165.9922 L10,165.9922 L10,148.8594" fill="#555555" style="stroke:#FFFFFF;stroke-width:1.5;"/><rect fill="none" height="320.3281" style="stroke:#FFFFFF;stroke-width:1.5;" width="282.8042" x="10" y="148.8594"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="25" y="161.9263">loop</text><g class="message" data-participant-1="ESP" data-participant-2="ESP"><line style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="58.9946" x2="100.9946" y1="187.125" y2="187.125"/><line style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="100.9946" x2="100.9946" y1="187.125" y2="200.125"/><line style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="59.9946" x2="100.9946" y1="200.125" y2="200.125"/><polygon fill="#E7E7E7" points="69.9946,196.125,59.9946,200.125,69.9946,204.125,65.9946,200.125" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140.5371" x="65.9946" y="182.0591">espera +CMTI evento</text></g><g class="message" data-participant-1="ESP" data-participant-2="MDM"><polygon fill="#E7E7E7" points="223.9961,225.2578,233.9961,229.2578,223.9961,233.2578,227.9961,229.2578" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="58.9946" x2="229.9961" y1="229.2578" y2="229.2578"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.5986" x="65.9946" y="224.1919">AT+CMGR=&lt;index&gt;</text></g><g class="message" data-participant-1="MDM" data-participant-2="ESP"><polygon fill="#E7E7E7" points="69.9946,254.3906,59.9946,258.3906,69.9946,262.3906,65.9946,258.3906" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="63.9946" x2="234.9961" y1="258.3906" y2="258.3906"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.6992" x="75.9946" y="253.3247">+CMGR: datos SMS</text></g><g class="message" data-participant-1="ESP" data-participant-2="ESP"><line style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="58.9946" x2="100.9946" y1="287.5234" y2="287.5234"/><line style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="100.9946" x2="100.9946" y1="287.5234" y2="300.5234"/><line style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="59.9946" x2="100.9946" y1="300.5234" y2="300.5234"/><polygon fill="#E7E7E7" points="69.9946,296.5234,59.9946,300.5234,69.9946,304.5234,65.9946,300.5234" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163.0015" x="65.9946" y="282.4575">validar remitente y clave</text></g><g class="message" data-participant-1="ESP" data-participant-2="ESP"><line style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="58.9946" x2="100.9946" y1="329.6563" y2="329.6563"/><line style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="100.9946" x2="100.9946" y1="329.6563" y2="342.6563"/><line style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="59.9946" x2="100.9946" y1="342.6563" y2="342.6563"/><polygon fill="#E7E7E7" points="69.9946,338.6563,59.9946,342.6563,69.9946,346.6563,65.9946,342.6563" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.7075" x="65.9946" y="324.5903">switch(cmd)</text></g><path d="M20,357.6563 L84.4429,357.6563 L84.4429,364.7891 L74.4429,374.7891 L20,374.7891 L20,357.6563" fill="#555555" style="stroke:#FFFFFF;stroke-width:1.5;"/><rect fill="none" height="75.3984" style="stroke:#FFFFFF;stroke-width:1.5;" width="262.8042" x="20" y="357.6563"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="370.7231">alt</text><text fill="#FFFFFF" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119.1953" x="99.4429" y="369.8667">[comando enviado]</text><g class="message" data-participant-1="ESP" data-participant-2="MDM"><polygon fill="#E7E7E7" points="223.9961,391.9219,233.9961,395.9219,223.9961,399.9219,227.9961,395.9219" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="58.9946" x2="229.9961" y1="395.9219" y2="395.9219"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.521" x="65.9946" y="390.856">AT+CMGS="&lt;from&gt;"</text></g><g class="message" data-participant-1="ESP" data-participant-2="MDM"><polygon fill="#E7E7E7" points="223.9961,421.0547,233.9961,425.0547,223.9961,429.0547,227.9961,425.0547" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="58.9946" x2="229.9961" y1="425.0547" y2="425.0547"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.9102" x="65.9946" y="419.9888">&lt;texto&gt; + 0x1A</text></g><g class="message" data-participant-1="ESP" data-participant-2="MDM"><polygon fill="#E7E7E7" points="223.9961,457.1875,233.9961,461.1875,223.9961,465.1875,227.9961,461.1875" style="stroke:#E7E7E7;stroke-width:1;"/><line style="stroke:#E7E7E7;stroke-width:1;" x1="58.9946" x2="229.9961" y1="461.1875" y2="461.1875"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.5762" x="65.9946" y="456.1216">AT+CMGD=&lt;index&gt;</text></g><!--SRC=[RO_1IiGm48RlUOfXJyfkbxOUbD8M5bUbO4JCli2GZ1X8azB6Mb_DgozcKbPXxP93XdmV-UVtsXk2wssspK6GV2ShDHR0oNv_WU22iGvxhwNkq7gu4yzNEU0GXnCW6dwJfeyHyJrdB718wZX30Rl3-fO_t5VPylc9DrM-oJPfFCmurp60sGfQl0kWeQCU8NnnQ816ijxzEgS1BrMfhQAfFk8oIOvyfWKez6wOI_tF6D5eXJtqr6eV4WW-GHeSQM4E7zhBjmlPgil0q7YGhaMh790TDQguszdjHBKgNtlNrgkbKNgQlAjX3UcKxG8dgyvttFzr3CeF]--></g></svg>