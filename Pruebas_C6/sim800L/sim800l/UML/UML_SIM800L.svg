<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="758px" preserveAspectRatio="none" style="width:670px;height:758px;background:#FFFFFF;" version="1.1" viewBox="0 0 670 758" width="670px" zoomAndPan="magnify"><title>Actividad: Procesamiento de SMS entrantes</title><defs/><g><g class="title" data-source-line="2"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="347.2588" x="160.0051" y="32.9951">Actividad: Procesamiento de SMS entrantes</text></g><ellipse cx="348.6277" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="155.1641" x="271.0457" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="135.1641" x="281.0457" y="108.4355">Inicializar m&#243;dulo SMS</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="247.5781" x="224.8386" y="141.2656"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="227.5781" x="234.8386" y="162.4043">Configurar modo texto (AT+CMGF=1)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="351.875" x="172.6902" y="195.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="331.875" x="182.6902" y="216.373">Configurar notificaciones de SMS (AT+CNMI=2,1,0,0,0)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="154.8594" x="271.198" y="293.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="134.8594" x="281.198" y="314.3418">Esperar evento +CMTI</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="214.1328" x="241.5613" y="347.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="194.1328" x="251.5613" y="368.3105">Leer SMS (AT+CMGR=&lt;index&gt;)</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="171.5703" x="262.8425" y="401.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="151.5703" x="272.8425" y="422.2793">Validar remitente y clave</text><polygon fill="#F1F1F1" points="301.1472,455.1094,396.1082,455.1094,408.1082,467.1094,396.1082,479.1094,301.1472,479.1094,289.1472,467.1094,301.1472,455.1094" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94.9609" x="301.1472" y="470.9175">Comando v&#225;lido?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="8.7871" x="280.3601" y="464.5151">s&#237;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="408.1082" y="464.5151">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="278.8555" x="11" y="489.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="258.8555" x="21" y="510.248">Preparar respuesta (AT+CMGS="&lt;from&gt;")</text><path d="M244.0869,547.4961 L244.0869,556.0625 L224.0869,560.0625 L244.0869,564.0625 L244.0869,572.6289 A0,0 0 0 0 244.0869,572.6289 L443.3862,572.6289 A0,0 0 0 0 443.3862,572.6289 L443.3862,557.4961 L433.3862,547.4961 L244.0869,547.4961 A0,0 0 0 0 244.0869,547.4961" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M433.3862,547.4961 L433.3862,557.4961 L443.3862,557.4961 L433.3862,547.4961" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.2993" x="250.0869" y="564.563">MDM responde +CMGS: OK</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="147.3184" x="76.7686" y="543.0781"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127.3184" x="86.7686" y="564.2168">Enviar texto y Ctrl+Z</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="166.8828" x="463.3862" y="489.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="146.8828" x="473.3862" y="510.248">Notificar error al usuario</text><polygon fill="#F1F1F1" points="348.6277,583.0469,360.6277,595.0469,348.6277,607.0469,336.6277,595.0469,348.6277,583.0469" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="292.6309" x="202.3123" y="627.0469"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="272.6309" x="212.3123" y="648.1855">Borrar SMS procesado (AT+CMGD=&lt;index&gt;)</text><polygon fill="#F1F1F1" points="348.6277,249.2031,360.6277,261.2031,348.6277,273.2031,336.6277,261.2031,348.6277,249.2031" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="314.6824,681.0156,382.573,681.0156,394.573,693.0156,382.573,705.0156,314.6824,705.0156,302.6824,693.0156,314.6824,681.0156" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="67.8906" x="314.6824" y="696.8237">Nuevos SMS</text><ellipse cx="348.6277" cy="736.0156" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="348.6277" cy="736.0156" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.6277" x2="348.6277" y1="67.2969" y2="87.2969"/><polygon fill="#181818" points="344.6277,77.2969,348.6277,87.2969,352.6277,77.2969,348.6277,81.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.6277" x2="348.6277" y1="121.2656" y2="141.2656"/><polygon fill="#181818" points="344.6277,131.2656,348.6277,141.2656,352.6277,131.2656,348.6277,135.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.6277" x2="348.6277" y1="175.2344" y2="195.2344"/><polygon fill="#181818" points="344.6277,185.2344,348.6277,195.2344,352.6277,185.2344,348.6277,189.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.6277" x2="348.6277" y1="327.1719" y2="347.1719"/><polygon fill="#181818" points="344.6277,337.1719,348.6277,347.1719,352.6277,337.1719,348.6277,341.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.6277" x2="348.6277" y1="381.1406" y2="401.1406"/><polygon fill="#181818" points="344.6277,391.1406,348.6277,401.1406,352.6277,391.1406,348.6277,395.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="150.4277" x2="150.4277" y1="523.0781" y2="543.0781"/><polygon fill="#181818" points="146.4277,533.0781,150.4277,543.0781,154.4277,533.0781,150.4277,537.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="289.1472" x2="150.4277" y1="467.1094" y2="467.1094"/><line style="stroke:#181818;stroke-width:1;" x1="150.4277" x2="150.4277" y1="467.1094" y2="489.1094"/><polygon fill="#181818" points="146.4277,479.1094,150.4277,489.1094,154.4277,479.1094,150.4277,483.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="408.1082" x2="546.8276" y1="467.1094" y2="467.1094"/><line style="stroke:#181818;stroke-width:1;" x1="546.8276" x2="546.8276" y1="467.1094" y2="489.1094"/><polygon fill="#181818" points="542.8276,479.1094,546.8276,489.1094,550.8276,479.1094,546.8276,483.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="150.4277" x2="150.4277" y1="577.0469" y2="595.0469"/><line style="stroke:#181818;stroke-width:1;" x1="150.4277" x2="336.6277" y1="595.0469" y2="595.0469"/><polygon fill="#181818" points="326.6277,591.0469,336.6277,595.0469,326.6277,599.0469,330.6277,595.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="546.8276" x2="546.8276" y1="523.0781" y2="595.0469"/><line style="stroke:#181818;stroke-width:1;" x1="546.8276" x2="360.6277" y1="595.0469" y2="595.0469"/><polygon fill="#181818" points="370.6277,591.0469,360.6277,595.0469,370.6277,599.0469,366.6277,595.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.6277" x2="348.6277" y1="435.1094" y2="455.1094"/><polygon fill="#181818" points="344.6277,445.1094,348.6277,455.1094,352.6277,445.1094,348.6277,449.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.6277" x2="348.6277" y1="607.0469" y2="627.0469"/><polygon fill="#181818" points="344.6277,617.0469,348.6277,627.0469,352.6277,617.0469,348.6277,621.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.6277" x2="348.6277" y1="273.2031" y2="293.2031"/><polygon fill="#181818" points="344.6277,283.2031,348.6277,293.2031,352.6277,283.2031,348.6277,287.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="394.573" x2="644.269" y1="693.0156" y2="693.0156"/><polygon fill="#181818" points="640.269,479.6094,644.269,469.6094,648.269,479.6094,644.269,475.6094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="644.269" x2="644.269" y1="261.2031" y2="693.0156"/><line style="stroke:#181818;stroke-width:1;" x1="644.269" x2="360.6277" y1="261.2031" y2="261.2031"/><polygon fill="#181818" points="370.6277,257.2031,360.6277,261.2031,370.6277,265.2031,366.6277,261.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.6277" x2="348.6277" y1="661.0156" y2="681.0156"/><polygon fill="#181818" points="344.6277,671.0156,348.6277,681.0156,352.6277,671.0156,348.6277,675.0156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.6277" x2="348.6277" y1="229.2031" y2="249.2031"/><polygon fill="#181818" points="344.6277,239.2031,348.6277,249.2031,352.6277,239.2031,348.6277,243.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.6277" x2="348.6277" y1="705.0156" y2="725.0156"/><polygon fill="#181818" points="344.6277,715.0156,348.6277,725.0156,352.6277,715.0156,348.6277,719.0156" style="stroke:#181818;stroke-width:1;"/><!--SRC=[NLBBJkD04BpxArfSrXOSbZqQ4WG9e6XnG1l4WTl8qquQsTDMpzWB-pTy02S-8Jz6ZnsMX-OocggkhgwU7p0dinRJ6B08fsMWdgonw7EugBi7Zg-jS8dUD8Gk30ybDyPPzh0gLacWK7-gpE7cErrPe7SnBg1F4X-CX2HVE2h9rFJF23JRLzlL79b7IJvZLz6wamYmPGZug4BfwUt-hBYyc1ncNpcE0rLKcfBOeNzlED2NnMBow-3mu6SyMfO8jcX20f2V-nPZDVQ3JPM-NHn5u0fHFXIAop-JOt8M7wVP0D-fPQjrWWq5BKLuWh8sFKQKAaXdOpZGRv-LoISPX0qwIFts9LEAIjoe2oE3Xcyxr3pUUwqcUyULS3FT6vf5cwudPOuHFC4iIBr_Fs8wDuBGUXDoAER5eCRg50Qb7Av_AmrhZv0wthLUxhBIkKLOmDJG-Su8STH4PwcAGvwnH7ynXTtoxVy5p3_bCSO9VpUaNo1TTjYFdoABM-Rs3G00]--></g></svg>