<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="1272px" preserveAspectRatio="none" style="width:378px;height:1272px;background:#FFFFFF;" version="1.1" viewBox="0 0 378 1272" width="378px" zoomAndPan="magnify"><defs/><g><ellipse cx="173.1738" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="98.2168" x="124.0654" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78.2168" x="134.0654" y="71.1387">AT+CMGF=1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="96.6758" x="124.8359" y="103.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="76.6758" x="134.8359" y="125.1074">AT+DDET=1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="89.123" x="128.6123" y="157.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="69.123" x="138.6123" y="179.0762">AT+CLIP=1</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="140.3281" x="103.0098" y="211.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120.3281" x="113.0098" y="233.0449">AT+CNMI=2,1,0,0,0</text><rect fill="none" height="453.0898" style="stroke:#000000;stroke-width:1.5;" width="333.7971" x="23" y="255.875"/><path d="M185.6602,255.875 L185.6602,265.1719 L175.6602,275.1719 L23,275.1719" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.6602" x="26" y="269.8701">Detecci&#243;n de llamada</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="82.8594" x="131.7441" y="336.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62.8594" x="141.7441" y="357.3105">Leer UART</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="115.8184" x="115.2646" y="438.543"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="95.8184" x="125.2646" y="459.6816">Parsear n&#250;mero</text><polygon fill="#F1F1F1" points="123.8699,496.9961,222.4778,496.9961,234.4778,508.9961,222.4778,520.9961,123.8699,520.9961,111.8699,508.9961,123.8699,496.9961" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98.6079" x="123.8699" y="512.8042">remitente_valido?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="8.7871" x="103.0828" y="506.4019">s&#237;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.7017" x="234.4778" y="506.4019">no</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="85.4727" x="59.1335" y="530.9961"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="65.4727" x="69.1335" y="552.1348">Enviar ATA</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="92.6387" x="198.1584" y="530.9961"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72.6387" x="208.1584" y="552.1348">Ignorar URC</text><polygon fill="#F1F1F1" points="153.803,390.1406,192.5447,390.1406,204.5447,402.1406,192.5447,414.1406,153.803,414.1406,141.803,402.1406,153.803,390.1406" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="8.7871" x="177.1738" y="424.3511">s&#237;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="38.7417" x="153.803" y="405.9487">+CLIP?</text><polygon fill="#F1F1F1" points="173.1738,584.9648,185.1738,596.9648,173.1738,608.9648,161.1738,596.9648,173.1738,584.9648" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="173.1738,292.1719,185.1738,304.1719,173.1738,316.1719,161.1738,304.1719,173.1738,292.1719" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="161.1738,628.9648,185.1738,628.9648,197.1738,640.9648,185.1738,652.9648,161.1738,652.9648,149.1738,640.9648,161.1738,628.9648" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22.5747" x="161.8865" y="644.7729">true</text><polygon fill="#F1F1F1" points="173.1738,672.9648,185.1738,684.9648,173.1738,696.9648,161.1738,684.9648,173.1738,672.9648" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="139.8535" x="103.2471" y="728.9648"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="119.8535" x="113.2471" y="750.1035">Escuchando +DTMF</text><rect fill="none" height="446.5742" style="stroke:#000000;stroke-width:1.5;" width="356.3477" x="11" y="772.9336"/><path d="M135.1328,772.9336 L135.1328,782.2305 L125.1328,792.2305 L11,792.2305" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.1328" x="14" y="786.9287">Detecci&#243;n DTMF</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="82.8594" x="131.7441" y="853.2305"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62.8594" x="141.7441" y="874.3691">Leer UART</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="101.7559" x="122.2959" y="955.6016"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81.7559" x="132.2959" y="976.7402">Extraer d&#237;gito</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="86.2871" x="130.0303" y="1009.5703"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="66.2871" x="140.0303" y="1030.709">Enviar ATH</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="276.3477" x="35" y="1063.5391"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="256.3477" x="45" y="1084.6777">send_sms(caller, "DTMF &lt;digit&gt; recibido")</text><polygon fill="#F1F1F1" points="150.1426,907.1992,196.2051,907.1992,208.2051,919.1992,196.2051,931.1992,150.1426,931.1992,138.1426,919.1992,150.1426,907.1992" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="8.7871" x="177.1738" y="941.4097">s&#237;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46.0625" x="150.1426" y="923.0073">+DTMF?</text><polygon fill="#F1F1F1" points="173.1738,809.2305,185.1738,821.2305,173.1738,833.2305,161.1738,821.2305,173.1738,809.2305" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="161.1738,1139.5078,185.1738,1139.5078,197.1738,1151.5078,185.1738,1163.5078,161.1738,1163.5078,149.1738,1151.5078,161.1738,1139.5078" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22.5747" x="161.8865" y="1155.3159">true</text><polygon fill="#F1F1F1" points="173.1738,1183.5078,185.1738,1195.5078,173.1738,1207.5078,161.1738,1195.5078,173.1738,1183.5078" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="173.1738" cy="1250.5078" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="173.1738" cy="1250.5078" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="30" y2="50"/><polygon fill="#181818" points="169.1738,40,173.1738,50,177.1738,40,173.1738,44" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="83.9688" y2="103.9688"/><polygon fill="#181818" points="169.1738,93.9688,173.1738,103.9688,177.1738,93.9688,173.1738,97.9688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="137.9375" y2="157.9375"/><polygon fill="#181818" points="169.1738,147.9375,173.1738,157.9375,177.1738,147.9375,173.1738,151.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="191.9063" y2="211.9063"/><polygon fill="#181818" points="169.1738,201.9063,173.1738,211.9063,177.1738,201.9063,173.1738,205.9063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="101.8699" x2="101.8699" y1="564.9648" y2="684.9648"/><line style="stroke:#181818;stroke-width:1;" x1="101.8699" x2="161.1738" y1="684.9648" y2="684.9648"/><polygon fill="#181818" points="151.1738,680.9648,161.1738,684.9648,151.1738,688.9648,155.1738,684.9648" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="111.8699" x2="101.8699" y1="508.9961" y2="508.9961"/><line style="stroke:#181818;stroke-width:1;" x1="101.8699" x2="101.8699" y1="508.9961" y2="530.9961"/><polygon fill="#181818" points="97.8699,520.9961,101.8699,530.9961,105.8699,520.9961,101.8699,524.9961" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="234.4778" x2="244.4778" y1="508.9961" y2="508.9961"/><line style="stroke:#181818;stroke-width:1;" x1="244.4778" x2="244.4778" y1="508.9961" y2="530.9961"/><polygon fill="#181818" points="240.4778,520.9961,244.4778,530.9961,248.4778,520.9961,244.4778,524.9961" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="244.4778" x2="244.4778" y1="564.9648" y2="569.9648"/><line style="stroke:#181818;stroke-width:1;" x1="244.4778" x2="173.1738" y1="569.9648" y2="569.9648"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="569.9648" y2="584.9648"/><polygon fill="#181818" points="169.1738,574.9648,173.1738,584.9648,177.1738,574.9648,173.1738,578.9648" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="472.5117" y2="496.9961"/><polygon fill="#181818" points="169.1738,486.9961,173.1738,496.9961,177.1738,486.9961,173.1738,490.9961" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="414.1406" y2="438.543"/><polygon fill="#181818" points="169.1738,428.543,173.1738,438.543,177.1738,428.543,173.1738,432.543" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="204.5447" x2="310.7971" y1="402.1406" y2="402.1406"/><polygon fill="#181818" points="306.7971,506.9961,310.7971,516.9961,314.7971,506.9961,310.7971,510.9961" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="310.7971" x2="310.7971" y1="402.1406" y2="596.9648"/><line style="stroke:#181818;stroke-width:1;" x1="310.7971" x2="185.1738" y1="596.9648" y2="596.9648"/><polygon fill="#181818" points="195.1738,592.9648,185.1738,596.9648,195.1738,600.9648,191.1738,596.9648" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="370.1406" y2="390.1406"/><polygon fill="#181818" points="169.1738,380.1406,173.1738,390.1406,177.1738,380.1406,173.1738,384.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="316.1719" y2="336.1719"/><polygon fill="#181818" points="169.1738,326.1719,173.1738,336.1719,177.1738,326.1719,173.1738,330.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="197.1738" x2="334.7971" y1="640.9648" y2="640.9648"/><polygon fill="#181818" points="330.7971,492.5117,334.7971,482.5117,338.7971,492.5117,334.7971,488.5117" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="334.7971" x2="334.7971" y1="304.1719" y2="640.9648"/><line style="stroke:#181818;stroke-width:1;" x1="334.7971" x2="185.1738" y1="304.1719" y2="304.1719"/><polygon fill="#181818" points="195.1738,300.1719,185.1738,304.1719,195.1738,308.1719,191.1738,304.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="608.9648" y2="628.9648"/><polygon fill="#181818" points="169.1738,618.9648,173.1738,628.9648,177.1738,618.9648,173.1738,622.9648" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="652.9648" y2="672.9648"/><polygon fill="#181818" points="169.1738,662.9648,173.1738,672.9648,177.1738,662.9648,173.1738,666.9648" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="245.875" y2="292.1719"/><polygon fill="#181818" points="169.1738,282.1719,173.1738,292.1719,177.1738,282.1719,173.1738,286.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="696.9648" y2="728.9648"/><polygon fill="#181818" points="169.1738,718.9648,173.1738,728.9648,177.1738,718.9648,173.1738,722.9648" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="989.5703" y2="1009.5703"/><polygon fill="#181818" points="169.1738,999.5703,173.1738,1009.5703,177.1738,999.5703,173.1738,1003.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="1043.5391" y2="1063.5391"/><polygon fill="#181818" points="169.1738,1053.5391,173.1738,1063.5391,177.1738,1053.5391,173.1738,1057.5391" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="1097.5078" y2="1102.5078"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="18.8665" y1="1102.5078" y2="1102.5078"/><line style="stroke:#181818;stroke-width:1;" x1="18.8665" x2="18.8665" y1="1102.5078" y2="1195.5078"/><line style="stroke:#181818;stroke-width:1;" x1="18.8665" x2="161.1738" y1="1195.5078" y2="1195.5078"/><polygon fill="#181818" points="151.1738,1191.5078,161.1738,1195.5078,151.1738,1199.5078,155.1738,1195.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="931.1992" y2="955.6016"/><polygon fill="#181818" points="169.1738,945.6016,173.1738,955.6016,177.1738,945.6016,173.1738,949.6016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="208.2051" x2="321.3477" y1="919.1992" y2="919.1992"/><polygon fill="#181818" points="317.3477,1031.0547,321.3477,1041.0547,325.3477,1031.0547,321.3477,1035.0547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="321.3477" x2="321.3477" y1="919.1992" y2="1119.5078"/><line style="stroke:#181818;stroke-width:1;" x1="321.3477" x2="173.1738" y1="1119.5078" y2="1119.5078"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="1119.5078" y2="1139.5078"/><polygon fill="#181818" points="169.1738,1129.5078,173.1738,1139.5078,177.1738,1129.5078,173.1738,1133.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="887.1992" y2="907.1992"/><polygon fill="#181818" points="169.1738,897.1992,173.1738,907.1992,177.1738,897.1992,173.1738,901.1992" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="833.2305" y2="853.2305"/><polygon fill="#181818" points="169.1738,843.2305,173.1738,853.2305,177.1738,843.2305,173.1738,847.2305" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="197.1738" x2="345.3477" y1="1151.5078" y2="1151.5078"/><polygon fill="#181818" points="341.3477,1010.5703,345.3477,1000.5703,349.3477,1010.5703,345.3477,1006.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="345.3477" x2="345.3477" y1="821.2305" y2="1151.5078"/><line style="stroke:#181818;stroke-width:1;" x1="345.3477" x2="185.1738" y1="821.2305" y2="821.2305"/><polygon fill="#181818" points="195.1738,817.2305,185.1738,821.2305,195.1738,825.2305,191.1738,821.2305" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="1163.5078" y2="1183.5078"/><polygon fill="#181818" points="169.1738,1173.5078,173.1738,1183.5078,177.1738,1173.5078,173.1738,1177.5078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="762.9336" y2="809.2305"/><polygon fill="#181818" points="169.1738,799.2305,173.1738,809.2305,177.1738,799.2305,173.1738,803.2305" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="173.1738" x2="173.1738" y1="1207.5078" y2="1239.5078"/><polygon fill="#181818" points="169.1738,1229.5078,173.1738,1239.5078,177.1738,1229.5078,173.1738,1233.5078" style="stroke:#181818;stroke-width:1;"/><!--SRC=[ZP3FJi904CRl-nGJJctW87YZecbeKH8m1CkPBDq1DhQxP7T14_6HE7dpsXTpMg5um6ZsyisVt-pCju-V9jUTFREE6yUwOTBiZ-y7lNPGwIYAavFkZuQJMZ-EXxrEgzswAb_0s8PewQHMq8ZGOPhAuaE1GCWoddF16_3600nka3iI0DqHee5PE4s2AfPByAelxdnmQrJWsUBWLoLgdd1ZaHjGnMUEHWV7V0aPpAL3vN2-uvaK-X9F4sArapGWJCAWJYuCykTZX9b5y9J-WGnNIXjYPjF-YK4bv9BzLDydmSjQPiGxiqMVlJFMZMswJTTS2GtDA1aFVlMeBFxFdRBpeZlngpES-aLnM4bNktE- -Q5EMTfxRdFhfJpBqBHe5PeADq8IUKihf7919ZRy4t7sw8-BhTERBm00]--></g></svg>